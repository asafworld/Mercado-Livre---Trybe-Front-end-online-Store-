{"ast":null,"code":"var _jsxFileName = \"/media/asaf/SD/Trybe/Projetos/projetos-publicados/Mercado-Livre---Trybe-Front-end-online-Store-/src/components/ProductDetail.jsx\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Header from './Header';\nimport Comment from './Comment';\nimport Input from './Input';\nimport priceFormat from '../services/priceFormat';\nimport './ProductDetail.css';\n\nclass ProductDetail extends React.Component {\n  constructor() {\n    super();\n\n    this.addToCart = item => {\n      const items = localStorage.getItem('addedProductsIds');\n      const array = JSON.parse(items);\n      const existEqual = array.some(e => e.id === item.id);\n\n      if (!existEqual) {\n        const all = { ...item,\n          qntd: 1\n        };\n        localStorage.setItem('addedProductsIds', JSON.stringify([...array, all]));\n        this.sum([...array, all]);\n      } else {\n        const same = array.find(e => e.id === item.id);\n        array.forEach(e => {\n          if (e.id === same.id) {\n            e.qntd += 1;\n          }\n        });\n        localStorage.setItem('addedProductsIds', JSON.stringify(array));\n        this.sum(array);\n      }\n    };\n\n    this.getTheProduct = async () => {\n      const {\n        match: {\n          params: {\n            id\n          }\n        }\n      } = this.props;\n      const request = await fetch(`https://api.mercadolibre.com/items/${id}`);\n      const response = await request.json();\n      this.setState({\n        item: response,\n        attributes: response.attributes\n      });\n    };\n\n    this.onInputChange = _ref => {\n      let {\n        target\n      } = _ref;\n      const {\n        name,\n        value\n      } = target;\n      this.setState({\n        [name]: value\n      });\n\n      if (name === 'rate') {\n        const e = document.querySelectorAll('.rate-star-comment');\n\n        for (let i = 0; i < value; i += 1) e[i].firstChild.textContent = '★';\n\n        for (let i = e.length - 1; i >= value; i -= 1) e[i].firstChild.textContent = '☆';\n      }\n    };\n\n    this.addComment = id => {\n      const key = `comments-${id}`;\n      const atual = localStorage.getItem(key);\n      const {\n        commentEmail,\n        rate,\n        comment\n      } = this.state;\n      const objComment = {\n        commentEmail,\n        rate,\n        comment\n      };\n\n      if (atual === null) {\n        localStorage.setItem(key, JSON.stringify([objComment]));\n      } else {\n        const atualParse = JSON.parse(atual);\n        localStorage.setItem(key, JSON.stringify([...atualParse, objComment]));\n      }\n\n      this.setState(prev => ({\n        comments: [...prev.comments, objComment],\n        commentEmail: '',\n        rate: 0,\n        comment: ''\n      }));\n    };\n\n    this.sum = items => {\n      let sum = 0;\n      items.forEach(e => {\n        sum += e.qntd;\n      });\n      this.setState({\n        sum\n      });\n    };\n\n    this.exist = item => {\n      const getProducts = localStorage.getItem('addedProductsIds');\n      const products = JSON.parse(getProducts);\n      const same = products.find(e => e.id === item.id);\n\n      if (same !== undefined) {\n        return same.qntd === item.available_quantity;\n      }\n    };\n\n    this.state = {\n      item: {},\n      attributes: [],\n      commentEmail: '',\n      rate: 0,\n      comment: '',\n      comments: [],\n      sum: 0\n    };\n  }\n\n  componentDidMount() {\n    this.getTheProduct();\n    const {\n      match: {\n        params: {\n          id\n        }\n      }\n    } = this.props;\n    const key = `comments-${id}`;\n    const atual = localStorage.getItem(key);\n\n    if (atual !== null) {\n      const atualParse = JSON.parse(atual);\n      this.setState({\n        comments: atualParse\n      });\n    }\n\n    const getProducts = localStorage.getItem('addedProductsIds');\n    this.sum(JSON.parse(getProducts));\n  }\n\n  render() {\n    const {\n      item,\n      attributes,\n      commentEmail,\n      comment,\n      comments,\n      rate,\n      sum\n    } = this.state;\n    const rates = [{\n      n: '1'\n    }, {\n      n: '2'\n    }, {\n      n: '3'\n    }, {\n      n: '4'\n    }, {\n      n: '5'\n    }];\n    return /*#__PURE__*/React.createElement(\"section\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Header, {\n      sum: sum,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"section\", {\n      key: item.id,\n      className: \"card-container-detail\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"section\", {\n      \"data-testid\": \"product\",\n      className: \"card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"img-card\",\n      src: item.thumbnail,\n      alt: item.title,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"product-info\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      \"data-testid\": \"product-detail-name\",\n      className: \"name-card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 15\n      }\n    }, item.title), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"price-card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 15\n      }\n    }, priceFormat(item.price)), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"stock-card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 15\n      }\n    }, `Estoque: ${item.available_quantity}`), item.shipping !== undefined && item.shipping.free_shipping && /*#__PURE__*/React.createElement(\"p\", {\n      \"data-testid\": \"free-shipping\",\n      className: \"free\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa-solid fa-truck-fast\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 19\n      }\n    }), ' Frete Grátis'), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      \"data-testid\": \"product-detail-add-to-cart\",\n      onClick: () => this.addToCart(item),\n      disabled: this.exist(item),\n      className: \"add-to-cart-detail\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 15\n      }\n    }, \"Adicionar carrinho\")))), /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"title-create-avaliation\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 9\n      }\n    }, \"Informa\\xE7\\xF5es T\\xE9cnicas\"), /*#__PURE__*/React.createElement(\"section\", {\n      className: \"atributes\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 9\n      }\n    }, attributes.map((att, index) => /*#__PURE__*/React.createElement(\"p\", {\n      key: index,\n      className: \"att\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 13\n      }\n    }, `${att.name}: `, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"att-value\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 15\n      }\n    }, att.value_name)))), /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"title-create-avaliation\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 9\n      }\n    }, \"Deixe sua avalia\\xE7\\xE3o\"), /*#__PURE__*/React.createElement(\"form\", {\n      action: \"get\",\n      className: \"comment-form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"create-avaliation\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      type: \"email\",\n      name: \"commentEmail\",\n      id: \"commentEmail\",\n      value: commentEmail,\n      onInputChange: this.onInputChange,\n      datatest: \"product-detail-email\",\n      className: \"commentEmail\",\n      labelText: \"Email: \",\n      labelClass: \"label-commentEmail\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"rate\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 13\n      }\n    }, rates.map(e => /*#__PURE__*/React.createElement(Input, {\n      key: e.n,\n      type: \"radio\",\n      name: \"rate\",\n      id: e.n,\n      value: e.n,\n      onInputChange: this.onInputChange,\n      datatest: `${e.n}-rating`,\n      labelText: \"\\u2606\",\n      className: \"rate-input\",\n      labelClass: \"rate-star rate-star-comment\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 17\n      }\n    }))), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"comment\",\n      className: \"label-comment\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 13\n      }\n    }, 'Comentário: ', /*#__PURE__*/React.createElement(\"textarea\", {\n      id: \"comment\",\n      name: \"comment\",\n      onChange: this.onInputChange,\n      value: comment,\n      \"data-testid\": \"product-detail-evaluation\",\n      className: \"comment\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      onClick: () => this.addComment(item.id),\n      \"data-testid\": \"submit-review-btn\",\n      disabled: rate === 0 || commentEmail.length === 0,\n      className: \"submit-review-btn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 13\n      }\n    }, \"Enviar\")), /*#__PURE__*/React.createElement(\"img\", {\n      src: \"https://img.freepik.com/vetores-gratis/cliente-feliz-feedback-do-usuario-rever-o-estilo-de-ilustracao-do-conceito_106788-1100.jpg\",\n      alt: \"ilustration-rate\",\n      className: \"ilustration-rate\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"section\", {\n      className: \"atual-rates\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"title-all-avaliations\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 11\n      }\n    }, \"Todas as avalia\\xE7\\xF5es (\", comments.length, \")\"), comments.map((e, i) => /*#__PURE__*/React.createElement(Comment, {\n      key: i,\n      commentEmail: e.commentEmail,\n      rate: e.rate,\n      comment: e.comment,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 13\n      }\n    }))));\n  }\n\n}\n\nProductDetail.propTypes = {\n  match: PropTypes.shape({\n    params: PropTypes.shape({\n      id: PropTypes.string\n    })\n  }).isRequired\n};\nexport default ProductDetail;","map":{"version":3,"names":["React","PropTypes","Header","Comment","Input","priceFormat","ProductDetail","Component","constructor","addToCart","item","items","localStorage","getItem","array","JSON","parse","existEqual","some","e","id","all","qntd","setItem","stringify","sum","same","find","forEach","getTheProduct","match","params","props","request","fetch","response","json","setState","attributes","onInputChange","target","name","value","document","querySelectorAll","i","firstChild","textContent","length","addComment","key","atual","commentEmail","rate","comment","state","objComment","atualParse","prev","comments","exist","getProducts","products","undefined","available_quantity","componentDidMount","render","rates","n","thumbnail","title","price","shipping","free_shipping","map","att","index","value_name","propTypes","shape","string","isRequired"],"sources":["/media/asaf/SD/Trybe/Projetos/projetos-publicados/Mercado-Livre---Trybe-Front-end-online-Store-/src/components/ProductDetail.jsx"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport Header from './Header';\nimport Comment from './Comment';\nimport Input from './Input';\nimport priceFormat from '../services/priceFormat';\nimport './ProductDetail.css';\n\nclass ProductDetail extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      item: {},\n      attributes: [],\n      commentEmail: '',\n      rate: 0,\n      comment: '',\n      comments: [],\n      sum: 0,\n    };\n  }\n\n  componentDidMount() {\n    this.getTheProduct();\n    const { match: { params: { id } } } = this.props;\n    const key = `comments-${id}`;\n    const atual = localStorage.getItem(key);\n    if (atual !== null) {\n      const atualParse = JSON.parse(atual);\n      this.setState({ comments: atualParse });\n    }\n    const getProducts = localStorage.getItem('addedProductsIds');\n    this.sum(JSON.parse(getProducts));\n  }\n\n  addToCart = (item) => {\n    const items = localStorage.getItem('addedProductsIds');\n    const array = JSON.parse(items);\n    const existEqual = array.some((e) => e.id === item.id);\n    if (!existEqual) {\n      const all = {\n        ...item,\n        qntd: 1,\n      };\n      localStorage.setItem('addedProductsIds', JSON.stringify([...array, all]));\n      this.sum([...array, all]);\n    } else {\n      const same = array.find((e) => e.id === item.id);\n      array.forEach((e) => {\n        if (e.id === same.id) {\n          e.qntd += 1;\n        }\n      });\n      localStorage.setItem('addedProductsIds', JSON.stringify(array));\n      this.sum(array);\n    }\n  }\n\n  getTheProduct = async () => {\n    const { match: { params: { id } } } = this.props;\n    const request = await fetch(`https://api.mercadolibre.com/items/${id}`);\n    const response = await request.json();\n    this.setState({ item: response, attributes: response.attributes });\n  }\n\n  onInputChange = ({ target }) => {\n    const { name, value } = target;\n    this.setState({ [name]: value });\n    if (name === 'rate') {\n      const e = document.querySelectorAll('.rate-star-comment');\n      for (let i = 0; i < value; i += 1) e[i].firstChild.textContent = '★';\n      for (let i = e.length - 1; i >= value; i -= 1) e[i].firstChild.textContent = '☆';\n    }\n  }\n\n  addComment = (id) => {\n    const key = `comments-${id}`;\n    const atual = localStorage.getItem(key);\n    const { commentEmail, rate, comment } = this.state;\n    const objComment = { commentEmail, rate, comment };\n    if (atual === null) {\n      localStorage.setItem(key, JSON.stringify([objComment]));\n    } else {\n      const atualParse = JSON.parse(atual);\n      localStorage.setItem(key, JSON.stringify([...atualParse, objComment]));\n    }\n    this.setState((prev) => (\n      { comments: [...prev.comments, objComment],\n        commentEmail: '',\n        rate: 0,\n        comment: '' }\n    ));\n  }\n\n  sum = (items) => {\n    let sum = 0;\n    items.forEach((e) => { sum += e.qntd; });\n    this.setState({ sum });\n  }\n\n  exist = (item) => {\n    const getProducts = localStorage.getItem('addedProductsIds');\n    const products = JSON.parse(getProducts);\n    const same = products.find((e) => e.id === item.id);\n    if (same !== undefined) {\n      return same.qntd === item.available_quantity;\n    }\n  }\n\n  render() {\n    const {\n      item, attributes, commentEmail, comment, comments, rate, sum } = this.state;\n    const rates = [{ n: '1' }, { n: '2' }, { n: '3' }, { n: '4' }, { n: '5' }];\n    return (\n      <section>\n        <Header sum={ sum } />\n        <section key={ item.id } className=\"card-container-detail\">\n          <section\n            data-testid=\"product\"\n            className=\"card\"\n          >\n            <img className=\"img-card\" src={ item.thumbnail } alt={ item.title } />\n            <div className=\"product-info\">\n              <p\n                data-testid=\"product-detail-name\"\n                className=\"name-card\"\n              >\n                { item.title }\n              </p>\n              <p className=\"price-card\">{ priceFormat(item.price)}</p>\n              <p className=\"stock-card\">{ `Estoque: ${item.available_quantity}` }</p>\n              { item.shipping !== undefined && item.shipping.free_shipping && (\n                <p data-testid=\"free-shipping\" className=\"free\">\n                  <i className=\"fa-solid fa-truck-fast\" />\n                  {' Frete Grátis'}\n                </p>\n              ) }\n              <button\n                type=\"button\"\n                data-testid=\"product-detail-add-to-cart\"\n                onClick={ () => this.addToCart(item) }\n                disabled={ this.exist(item) }\n                className=\"add-to-cart-detail\"\n              >\n                Adicionar carrinho\n              </button>\n            </div>\n          </section>\n        </section>\n        <h3 className=\"title-create-avaliation\">Informações Técnicas</h3>\n        <section className=\"atributes\">\n          { attributes.map((att, index) => (\n            <p key={ index } className=\"att\">\n              { `${att.name}: ` }\n              <span className=\"att-value\">{att.value_name}</span>\n            </p>\n          )) }\n        </section>\n        <h3 className=\"title-create-avaliation\">Deixe sua avaliação</h3>\n        <form action=\"get\" className=\"comment-form\">\n          <div className=\"create-avaliation\">\n            <Input\n              type=\"email\"\n              name=\"commentEmail\"\n              id=\"commentEmail\"\n              value={ commentEmail }\n              onInputChange={ this.onInputChange }\n              datatest=\"product-detail-email\"\n              className=\"commentEmail\"\n              labelText=\"Email: \"\n              labelClass=\"label-commentEmail\"\n            />\n            <div className=\"rate\">\n              {rates.map((e) => (\n                <Input\n                  key={ e.n }\n                  type=\"radio\"\n                  name=\"rate\"\n                  id={ e.n }\n                  value={ e.n }\n                  onInputChange={ this.onInputChange }\n                  datatest={ `${e.n}-rating` }\n                  labelText=\"☆\"\n                  className=\"rate-input\"\n                  labelClass=\"rate-star rate-star-comment\"\n                />\n              ))}\n            </div>\n            <label htmlFor=\"comment\" className=\"label-comment\">\n              { 'Comentário: ' }\n              <textarea\n                id=\"comment\"\n                name=\"comment\"\n                onChange={ this.onInputChange }\n                value={ comment }\n                data-testid=\"product-detail-evaluation\"\n                className=\"comment\"\n              />\n            </label>\n            <button\n              type=\"button\"\n              onClick={ () => this.addComment(item.id) }\n              data-testid=\"submit-review-btn\"\n              disabled={ rate === 0 || commentEmail.length === 0 }\n              className=\"submit-review-btn\"\n            >\n              Enviar\n            </button>\n          </div>\n          <img src=\"https://img.freepik.com/vetores-gratis/cliente-feliz-feedback-do-usuario-rever-o-estilo-de-ilustracao-do-conceito_106788-1100.jpg\" alt=\"ilustration-rate\" className=\"ilustration-rate\" />\n        </form>\n        <section className=\"atual-rates\">\n          <h3 className=\"title-all-avaliations\">\n            Todas as avaliações (\n            { comments.length }\n            )\n          </h3>\n          {comments.map((e, i) => (\n            <Comment\n              key={ i }\n              commentEmail={ e.commentEmail }\n              rate={ e.rate }\n              comment={ e.comment }\n            />\n          ))}\n        </section>\n      </section>\n    );\n  }\n}\n\nProductDetail.propTypes = {\n  match: PropTypes.shape({\n    params: PropTypes.shape({\n      id: PropTypes.string,\n    }),\n  }).isRequired,\n};\nexport default ProductDetail;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}